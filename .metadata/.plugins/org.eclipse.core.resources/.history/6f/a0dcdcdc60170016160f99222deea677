package com.app.customer.service;

import java.util.List;

import javax.ws.rs.GET;
import javax.ws.rs.POST;
import javax.ws.rs.Path;
import javax.ws.rs.Produces;
import javax.ws.rs.QueryParam;
import javax.ws.rs.core.MediaType;

import com.app.customer.vo.Customer;
import com.app.framework.exception.HexApplicationException;

@Path(value = "/ws")
public class ServiceController {

	private BusinessComponent businessComponent;

	public ServiceController() {
		businessComponent = new BusinessComponent();
	}

	@POST
	@Path(value = "/service")
	@Produces(MediaType.APPLICATION_JSON)
	public List<Customer> service(@QueryParam("serviceMethod") String serviceMethod,
			@QueryParam("searchValue") String searchValue, @QueryParam("searchColumn") String searchColumn) {
		List<Customer> customers = null;
		try {
			if (serviceMethod.equalsIgnoreCase("Add")) {
				// businessComponent.insert(customer);
			} else if (serviceMethod.equalsIgnoreCase("List")) {
				customers = businessComponent.getAllCustomer();
			} else if (serviceMethod.equalsIgnoreCase("Delete")) {
				// businessComponent.deleteAll(customerList);
			} else if (serviceMethod.equalsIgnoreCase("Update")) {
				// businessComponent.update(customer);
			} else if (serviceMethod.equalsIgnoreCase("Search")) {
				customers = businessComponent.search(searchValue, searchColumn);
			}
		} catch (HexApplicationException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		System.out.println("Service Controller : " + customers);
		return customers;

	}
}
